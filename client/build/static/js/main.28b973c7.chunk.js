(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{261:function(e,t,a){e.exports=a(472)},287:function(e,t,a){},470:function(e,t,a){},472:function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"fetchData",(function(){return S}));var r=a(0),i=a.n(r),l=a(13),c=a.n(l),o=a(36),s=a(55),d=a(208),u=a(223),m=a(12),p=a.n(m),g=a(33),f=a(34),h=a(37),b=a(35),v=a(38),y=a(81),D=a.n(y),C=function(e){var t;return p.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,p.a.awrap(D.a.post("/show-data",e,{}));case 2:return t=a.sent,a.abrupt("return",t.data.data);case 4:case"end":return a.stop()}}))},E=function(e){var t,a;return p.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return t={method:"POST",url:"/import",data:e},n.next=3,p.a.awrap(D()(t));case 3:return a=n.sent,n.abrupt("return",a.data);case 5:case"end":return n.stop()}}))},x=function(){var e,t;return p.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return e={method:"GET",url:"/data"},a.next=3,p.a.awrap(D()(e));case 3:return t=a.sent,a.abrupt("return",t.data);case 5:case"end":return a.stop()}}))},w=function(e){var t,a;return p.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return t={method:"POST",url:"/update-categories",data:e},n.next=3,p.a.awrap(D()(t));case 3:return a=n.sent,n.abrupt("return",a.data);case 5:case"end":return n.stop()}}))},S=function(){return function(e){var t;return p.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,p.a.awrap(x());case 2:t=a.sent,e({type:"fetch-data",payload:t});case 4:case"end":return a.stop()}}))}},N=a(18),T=a(97),O=a(40),j=a(4),k=a(209),A=a(24),F=a(530),R=a(519),I=a(520),P=a(516),U=a(518),B=a(105),M=a(521),H=a(522),L=a(523),W=a(524),G=(a(287),function(){return{headerStyles:{default:{color:"black",textAlign:"center"},dropdown:{},currency:{textAlign:"center"}},bodyStyles:{default:{color:"black"},dropdown:{},currency:{textAlign:"right"}}}}),Y=function(e){function t(e){var a;return Object(g.a)(this,t),(a=Object(h.a)(this,Object(b.a)(t).call(this,e))).getStyles=function(e,t){var n=Object(T.a)({},e.style,{backgroundColor:"white"});if("headers"===t){var r=a.classes.headerStyles;if(e.theme)for(var i=0,l=Object.keys(r[e.theme]);i<l.length;i++){var c=l[i];n[c]=r[e.theme][c]}else if(!e.style)for(var o=0,s=Object.keys(r.default);o<s.length;o++){var d=s[o];n[d]=r.default[d]}}if("body"===t){var u=a.classes.bodyStyles;if(e.theme)for(var m=0,p=Object.keys(u[e.theme]);m<p.length;m++){var g=p[m];n[g]=u[e.theme][g]}else if(!e.style)for(var f=0,h=Object.keys(u.default);f<h.length;f++){var b=h[f];n[b]=u.default[b]}}return n},a.handleCategoryChange=function(e,t){a.props.categoryChange(e.target.value,e.target.id,t)},a.getOptions=function(e,t){return e.options.map((function(e,t){return i.a.createElement("option",{key:e.value+t,value:e.value},e.value)}))},a.getCellContents=function(e,t,n){var r=e[t.name];if("currency"===t.theme&&"0.00"===r.toString())return"";if("dropdown"===t.theme&&!0===a.props.edit){return i.a.createElement("select",{className:"cell-select",key:"select"+n,id:e.id,value:r,onChange:function(e){a.handleCategoryChange(e,n)}},a.getOptions(t))}return r},a.handleFilterChange=function(e){var t=e.target.value,n=e.target.getAttributeNode("class");a.setState({filterSelect:t,filterClass:n},(function(){a.props.filterChange(a.state.filterSelect,a.state.filterClass)}))},a.renderTableHeader=function(e){var t=e.map((function(e){var t=a.getStyles(e,"headers");return!0===e.filter&&!0===a.props.filter?i.a.createElement("th",{key:e.key,style:t},i.a.createElement("select",{className:e.className,key:"filter_"+e.name,value:a.state.filterSelect,onChange:function(e){a.handleFilterChange(e)}},a.getOptions(e))):i.a.createElement("th",{key:e.key,style:t},e.name)}));return i.a.createElement("tr",{className:"header-cell"},t)},a.renderTableData=function(e,t){return""===e[0]?i.a.createElement("tr",{className:"body-row",key:"nulltable"},"No data found. Please refresh table or import data."):t.map((function(t,n){var r=e.map((function(e,r){var l=e.name+n,c=a.getStyles(e,"body"),o=a.getCellContents(t,e,n);return i.a.createElement("td",{className:"body-cell",key:l,style:c},o)})),l="row"+n;return i.a.createElement("tr",{className:"body-row",key:l},r)}))},a.classes=G(),a.state={filterSelect:"All Categories",filterClass:""},a}return Object(v.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"data-table"},i.a.createElement("div",{className:"table-head-div"},i.a.createElement("table",{className:"table-head",cellPadding:"0",cellSpacing:"0",border:"0"},i.a.createElement("thead",null,this.renderTableHeader(this.props.headers)))),i.a.createElement("div",{className:"table-body-div"},i.a.createElement("table",{className:"table-body",cellPadding:"0",cellSpacing:"0",border:"0"},i.a.createElement("tbody",null,this.renderTableData(this.props.headers,this.props.data)))))}}]),t}(i.a.Component),V=a(225),z=a(526),K=a(514),J=a(529),_=a(132),X=Object(k.a)((function(e){return{modal:{display:"flex",alignItems:"center",justifyContent:"center"},paper:{backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)}}})),$=i.a.forwardRef((function(e,t){var a=e.in,n=e.children,r=e.onEnter,l=e.onExited,c=Object(V.a)(e,["in","children","onEnter","onExited"]),o=Object(_.useSpring)({from:{opacity:0},to:{opacity:a?1:0},onStart:function(){a&&r&&r()},onRest:function(){!a&&l&&l()}});return i.a.createElement(_.animated.div,Object.assign({ref:t,style:o},c),n)}));function q(e){console.log(e);var t=X(),a=i.a.useState(!0),n=Object(N.a)(a,2),r=n[0],l=n[1];return i.a.createElement("div",null,i.a.createElement(z.a,{"aria-labelledby":"spring-modal-title","aria-describedby":"spring-modal-description",className:t.modal,open:r,onClose:function(){l(!1),e.closePopup()},closeAfterTransition:!0,BackdropComponent:J.a,BackdropProps:{timeout:500}},i.a.createElement($,{in:r},i.a.createElement("div",{className:t.paper},i.a.createElement(K.a,{onClick:function(){l(!1),e.closePopup()},variant:"contained",color:"primary"},"Submit")))))}var Q=a(527),Z=a(515),ee=a(525),te=Object(k.a)((function(e){return{container:{display:"flex",flexWrap:"wrap"},textField:{marginLeft:e.spacing(1),marginRight:e.spacing(1),width:200}}}));function ae(e){var t=te(),a=i.a.useState([e.sliderInit[0].getTime(),e.sliderInit[1].getTime()]),n=Object(N.a)(a,2),r=n[0],l=n[1];return i.a.createElement("div",{style:{minWidth:e.minWidth,marginRight:"17px"}},i.a.createElement(Z.a,{container:!0,spacing:2,alignItems:"center"},i.a.createElement(Z.a,{item:!0,xs:!0},i.a.createElement(Q.a,{value:r,onChange:function(e,t){l(t)},valueLabelDisplay:"off","aria-labelledby":"range-slider",style:{minWidth:"60px"},min:e.dateRange[0].getTime(),max:e.dateRange[1].getTime()})),i.a.createElement(Z.a,{item:!0},i.a.createElement(ee.a,{id:"dateMin",label:"Min Date",type:"date",value:function(e){var t=new Date;t.setTime(e[0]);var a=Number(t.getUTCMonth())+1,n=a.toString();a<10&&(n="0"+n);var r=Number(t.getUTCDate()),i=r.toString();return r<10&&(i="0"+i),t.getUTCFullYear()+"-"+n+"-"+i}(r),className:t.textField,InputLabelProps:{shrink:!0},onChange:function(e){var t=Number(e.target.value.slice(0,4)),a=Number(e.target.value.slice(5,7)),n=Number(e.target.value.slice(8,10)),i=new Date;i.setUTCFullYear(t,a-1,n);var c=[i.getTime(),r[1]];l(c)}})),i.a.createElement(Z.a,{item:!0},i.a.createElement(ee.a,{id:"dateMax",label:"Max Date",type:"date",value:function(e){var t=new Date;t.setTime(e[1]);var a=Number(t.getUTCMonth())+1,n=a.toString();a<10&&(n="0"+n);var r=Number(t.getUTCDate()),i=r.toString();return r<10&&(i="0"+i),t.getUTCFullYear()+"-"+n+"-"+i}(r),className:t.textField,InputLabelProps:{shrink:!0},onChange:function(e){var t=Number(e.target.value.slice(0,4)),a=Number(e.target.value.slice(5,7)),n=Number(e.target.value.slice(8,10)),i=new Date;i.setUTCFullYear(t,a-1,n);var c=[r[0],i.getTime()];l(c)}})),i.a.createElement(Z.a,{item:!0},i.a.createElement(K.a,{onClick:function(t){e.handleUpdate({value:r})},variant:"contained",color:"primary"},e.buttonText))))}var ne=a(517);function re(){return i.a.createElement(ne.a,{disableShrink:!0})}var ie=a(224),le=[{id:"Airfare",value:"Airfare"},{id:"Car Rental",value:"Car Rental"},{id:"Car Expense",value:"Car Expense"},{id:"Dining",value:"Dining"},{id:"Donation",value:"Donation"},{id:"Education",value:"Education"},{id:"Entertainment",value:"Entertainment"},{id:"Fee/Interest Charge",value:"Fee/Interest Charge"},{id:"Gas/Automotive",value:"Gas/Automotive"},{id:"Groceries",value:"Groceries"},{id:"Health Care",value:"Health Care"},{id:"Insurance",value:"Insurance"},{id:"Internet",value:"Internet"},{id:"Lodging",value:"Lodging"},{id:"Merchandise",value:"Merchandise"},{id:"Other",value:"Other"},{id:"Other Services",value:"Other Services"},{id:"Other Travel",value:"Other Travel"},{id:"Payment/Credit",value:"Payment/Credit"},{id:"Phone/Cable",value:"Phone/Cable"},{id:"Phone",value:"Phone"},{id:"Professional Services",value:"Professional Services"},{id:"Subscriptions",value:"Subscriptions"},{id:"TV/Cable",value:"TV/Cable"},{id:"Work Expense",value:"Work Expense"}],ce=function(e){var t="",a="",n="";if("-"===e[4])t=Number(e.slice(0,4)),a=Number(e.slice(5,7)),n=Number(e.slice(8,10));else{for(var r=0,i=e[r];"/"!==i;)a+=i,i=e[r+=1];for(a=Number(a),i=e[r+=1];"/"!==i;)n+=i,i=e[r+=1];n=Number(n),r+=1,t=Number(e.slice(r,r+4))}return{year:t,month:a,day:n}},oe=function(e){if(e[0]){var t=Object.keys(e[0]);t=t.filter((function(e){return"Posted Date"!==e&&"id"!==e&&"Card No."!==e}));var a=[];for(var n in e)a.includes(e[n].Description)||a.push(e[n].Description);var r=a.map((function(e){return{id:e,value:e}}));return t.map((function(e,t){var a={style:{width:150,textAlign:"left"},key:e,name:e,numeric:!1,edit:!1,filter:!1};return"Category"===e&&(a.className="category",a.theme="dropdown",a.edit=!0,a.filter=!0,a.options=[{id:"All Categories",value:"All Categories"}].concat(le)),"Credit"!==e&&"Debit"!==e||(a.numeric=!0,a.theme="currency",a.style.width=75),"Description"===e&&(a.className="description",a.style.width=300,a.style.textAlign="left",a.filter=!0,a.options=[{id:"All Descriptions",value:"All Descriptions"}].concat(Object(ie.a)(r))),a}))}return[""]},se=function(e){var t=new Date,a=new Date;return e.map((function(e,n){return 0===n?(t=e["Transaction Date"],a=e["Transaction Date"]):e["Transaction Date"]<t?t=e["Transaction Date"]:e["Transaction Date"]>a&&(a=e["Transaction Date"]),null})),[t,a]},de=function(e){var t=Number(e.getUTCMonth())+1,a=t.toString();t<10&&(a="0"+a);var n=Number(e.getUTCDate()),r=n.toString();return n<10&&(r="0"+r),a+"-"+r+"-"+e.getUTCFullYear()},ue=function(e,t){return e.filter((function(e){var a=e["Transaction Date"];return!(a.getTime()+864e5<=t[0]||a.getTime()>t[1])})).map((function(e){return{id:e.id,"Transaction Date":de(e["Transaction Date"]),"Posted Date":de(e["Posted Date"]),Category:e.Category,Description:e.Description,Credit:Number(e.Credit).toFixed(2),Debit:Number(e.Debit).toFixed(2)}}))},me=function(e,t){var a=e;return"All Categories"!==t&&(a=e.filter((function(e){return e.Category===t}))),a},pe=function(e,t){var a=e;return"All Descriptions"!==t&&(a=e.filter((function(e){return e.Description===t}))),a},ge=function(e,t){return e.filter((function(e){var a=e["Transaction Date"];return!(a.getTime()+864e5<=t[0]||a.getTime()>t[1])})).map((function(e){return{id:e.id,"Transaction Date":de(e["Transaction Date"]),"Posted Date":de(e["Posted Date"]),Category:e.Category,Description:e.Description,Credit:Number(e.Credit).toFixed(2),Debit:Number(e.Debit).toFixed(2)}}))},fe=function(e,t){return e[1]===t[1]?0:e[1]>t[1]?-1:1},he=function(e,t){return Number(e.Debit)===Number(t.Debit)?0:Number(e.Debit)>Number(t.Debit)?-1:1},be=function(e){var t={};for(var a in e)e[a].Category in t?Number(e[a].Debit)>0?t[e[a].Category]+=Number(e[a].Debit):Number(e[a].Credit)>0&&(t[e[a].Category]-=Number(e[a].Credit)):"Payment/Credit"!==e[a].Category&&(Number(e[a].Debit)>0?t[e[a].Category]=Number(e[a].Debit):Number(e[a].Credit)>0&&(t[e[a].Category]=-1*Number(e[a].Credit)));return(t=Object.entries(t)).sort(fe),t.map((function(e){return{name:e[0],value:e[1]}}))},ve=function(e){return e.map((function(e,t){var a,n,r=ce(e["Posted Date"]),i=ce(e["Transaction Date"]);return a=new Date(Date.UTC(r.year,r.month-1,r.day)),n=new Date(Date.UTC(i.year,i.month-1,i.day)),{id:e._id,"Transaction Date":n,"Posted Date":a,Category:e.Category,Description:e.Description,Credit:Number(e.Credit).toFixed(2),Debit:Number(e.Debit).toFixed(2)}}))},ye=function(e){function t(e){var a;return Object(g.a)(this,t),(a=Object(h.a)(this,Object(b.a)(t).call(this,e))).getData=function(){var e,t,n;return p.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,p.a.awrap(a.props.fetchData());case 3:e=ve(a.props.data),t=[],t=a.state.refresh?ue(e,a.state.sliderRange):ue(e,a.state.sliderInit),n=se(e),a.setState({tableData:t,dateRange:n,sliderInit:[new Date((new Date).getTime()-864e5*a.tableStart),new Date],tableHeaders:oe(t),loading:!1}),r.next=13;break;case 10:r.prev=10,r.t0=r.catch(0),console.log("Unable to retrieve data --\x3e"+r.t0);case 13:case 14:case"end":return r.stop()}}),null,null,[[0,10]])},a.handleDateUpdate=function(e){a.setState({loading:!0});var t=ve(a.props.data),n=ue(t,e.value);a.setState({sliderRange:e.value,tableData:n,tableHeaders:oe(n)},(function(){a.setState({loading:!1})}))},a.handleRedirectImport=function(){a.props.handleRedirect("Import Transaction Data")},a.updateCategory=function(e,t,n){var r=a.state.tableData;r[n].Category=e;var i=a.state.updateCategoryRows;i.push({id:t,newCategory:e}),a.setState({tableData:r,updateCategoryRows:i})},a.handleFilter=function(e,t){switch(t.value){case"category":var n=ve(a.props.data),r=ue(n,a.state.sliderRange),i=me(r,e);a.setState({tableData:i,categoryData:i,tableHeaders:oe(i)});break;case"description":console.log(a.state);var l=pe(a.state.categoryData,e);a.setState({tableData:l});break;default:return}},a.handleEditCategories=function(){a.setState({editCategories:!0})},a.handleSaveCategories=function(){a.setState({loading:!0,refresh:!0,editCategories:!1},(function(){return p.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.state.updateCategoryRows[0]){e.next=5;break}return e.next=3,p.a.awrap(w(a.state.updateCategoryRows));case 3:return e.next=5,p.a.awrap(a.getData());case 5:a.setState({updateCategoryRows:[],loading:!1,refresh:!1});case 6:case"end":return e.stop()}}))}))},a.getEditButton=function(){return a.state.editCategories?i.a.createElement(K.a,{id:"save-data-button",onClick:a.handleSaveCategories,variant:"contained",color:"primary",style:{marginTop:"10px",marginLeft:"20px",backgroundColor:"#047700"}},"Save Data"):i.a.createElement(K.a,{id:"edit-categories-button",onClick:a.handleEditCategories,variant:"contained",color:"primary",style:{marginTop:"10px",marginLeft:"20px"}},"Edit Categories")},a.handleAddTransaction=function(){a.setState({addTransactionPopup:!0})},a.handleClosePopup=function(){console.log("test"),a.setState({addTransactionPopup:!1})},a.tableStart=90,a.filterCategories=!0,a.state={loading:!0,redirect:"",importData:[{"Transaction Date":new Date,"Posted Date":new Date}],tableData:[{"Transaction Date":new Date,"Posted Date":new Date}],categoryData:[{"Transaction Date":new Date,"Posted Date":new Date}],sliderInit:[new Date((new Date).getTime()-864e5*a.tableStart),new Date],sliderRange:[],tableHeaders:[],dateRange:[new Date(0),new Date],updateCategoryRows:[],editCategories:!1,refresh:!1,addTransactionPopup:!1},a}return Object(v.a)(t,e),Object(f.a)(t,[{key:"componentDidMount",value:function(){var e=ve(this.props.data),t=ue(e,this.state.sliderInit),a=se(e);this.setState({tableData:t,dateRange:a,tableHeaders:oe(t),loading:!1})}},{key:"render",value:function(){var e=this.state,t=e.tableData,a=e.tableHeaders,n=e.dateRange,r=e.loading,l=e.editCategories,c=e.sliderInit,o=e.addTransactionPopup;return r?i.a.createElement("div",{className:"app",style:{width:"90%",margin:"auto"}},i.a.createElement("div",{className:"table-slider",style:{maxWidth:"930px"}},i.a.createElement(ae,{minWidth:"683px",handleUpdate:this.handleDateUpdate,dateRange:n,buttonText:"Update Table",sliderInit:c}),i.a.createElement("div",{style:{display:"flex",justifyContent:"center",marginTop:"50px"}},i.a.createElement(re,null)))):o?i.a.createElement(q,{closePopup:this.handleClosePopup}):i.a.createElement("div",{className:"app",style:{width:"90%",margin:"auto"}},i.a.createElement("div",{className:"table-slider",style:{maxWidth:"930px"}},i.a.createElement(ae,{minWidth:"683px",handleUpdate:this.handleDateUpdate,dateRange:n,buttonText:"Update Table",sliderInit:c}),i.a.createElement(Y,{filterChange:this.handleFilter,edit:l,filter:this.filterCategories,categoryChange:this.updateCategory,data:t,headers:a}),i.a.createElement(K.a,{onClick:this.handleRedirectImport,variant:"contained",color:"primary",style:{marginTop:"10px"}},"Import New Data"),this.getEditButton(),i.a.createElement(K.a,{onClick:this.handleAddTransaction,variant:"contained",color:"secondary",style:{marginTop:"10px",marginLeft:"20px"}},"Add Transaction")))}}]),t}(r.Component);var De=Object(o.b)((function(e){return{data:e.data}}),n)(ye),Ce=function(e){function t(){var e,a;Object(g.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(h.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).state={selectedFile:null,loading:!1,dataLoaded:!1,reDirect:!1},a.handleChangeFile=function(e){a.setState({selectedFile:e.target.files[0],loaded:0},(function(){a.handleDataFile(e,a.state.selectedFile)}))},a.getData=function(){var e,t,n,r;return p.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,p.a.awrap(a.props.fetchData());case 3:e=ve(a.props.data,!0),t=ue(e,se(e)),n=oe(a.props.data),r=se(e),a.setState({data:e,tableData:t,dateRange:r,tableHeaders:n}),i.next=13;break;case 10:i.prev=10,i.t0=i.catch(0),console.log("Unable to retrieve data --\x3e"+i.t0);case 13:case 14:case"end":return i.stop()}}),null,null,[[0,10]])},a.handleImport=function(e){a.setState({loading:!0},(function(){return p.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.a.awrap(E(a.state.importData));case 3:return e.next=5,p.a.awrap(a.getData());case 5:a.setState({loading:!1},(function(){console.log("test"),a.props.handleRedirect("View Transaction Data")})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),alert("Unable to import data --\x3e"+e.t0);case 11:case"end":return e.stop()}}),null,null,[[0,8]])}))},a.handleDataFile=function(e){var t,n,r,i,l;return p.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=new FormData).append("file",a.state.selectedFile),n={},e.prev=3,e.next=6,p.a.awrap(C(t));case 6:n=e.sent,e.next=12;break;case 9:e.prev=9,e.t0=e.catch(3),alert("Unable to import data --\x3e"+e.t0);case 12:r=oe(n),console.log(r),i=ve(n,!1),l=se(i),a.setState({dateRange:l,tableData:ue(i,l),importData:i,tableHeaders:r,loading:!1,dataLoaded:!0});case 17:case"end":return e.stop()}}),null,null,[[3,9]])},a}return Object(v.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this.state,t=e.tableData,a=e.tableHeaders,n=e.loading,r=e.dataLoaded;return n?i.a.createElement("div",{style:{display:"flex",justifyContent:"center",marginTop:"50px"}},i.a.createElement(re,null)):r?i.a.createElement("div",{className:"file-upload",style:{maxWidth:"930px"}},i.a.createElement("div",null,i.a.createElement("input",{type:"file",className:"file",onChange:this.handleChangeFile})," ",i.a.createElement("br",null)),i.a.createElement("div",{className:"table-import"},i.a.createElement(Y,{data:t,headers:a}),i.a.createElement(K.a,{onClick:this.handleImport,variant:"contained",color:"primary",style:{marginTop:"10px"}},"Import Data"))):i.a.createElement("div",{className:"file-upload",style:{maxWidth:"930px"}},i.a.createElement("div",null,i.a.createElement("input",{type:"file",className:"file",onChange:this.handleChangeFile})," ",i.a.createElement("br",null)))}}]),t}(r.Component);var Ee=Object(o.b)((function(e){return{data:e.data}}),n)(Ce),xe=a(71),we=["#B71C1C","#D50000","#D81B60","#6A1B9A","#5E35B1","#7C4DFF","#7E57C2","#283593","#304FFE","#7986CB","#90CAF9","#1976D2","#2979FF","#81D4FA","#039BE5","#40C4FF","#00ACC1","#00B8D4","#00695C","#00BFA5","#81C784"],Se=function(e){var t=Math.PI/180,a=e.cx,n=e.cy,r=e.midAngle,l=e.innerRadius,c=e.outerRadius,o=e.startAngle,s=e.endAngle,d=e.fill,u=e.percent,m=e.value,p=e.name,g=Math.sin(-t*r),f=Math.cos(-t*r),h=a+(c+8)*f,b=n+(c+8)*g,v=a+(c+15)*f,y=n+(c+15)*g,D=v+22*(f>=0?1:-1),C=y,E=f>=0?"start":"end";return i.a.createElement("g",null,i.a.createElement("text",{fontSize:"large",fontWeight:"bolder",x:a,y:n,dy:8,textAnchor:"middle",fill:d},p),i.a.createElement(xe.d,{cx:a,cy:n,innerRadius:l,outerRadius:c,startAngle:o,endAngle:s,fill:d}),i.a.createElement(xe.d,{cx:a,cy:n,startAngle:o,endAngle:s,innerRadius:c+6,outerRadius:c+10,fill:d}),i.a.createElement("path",{d:"M".concat(h,",").concat(b,"L").concat(v,",").concat(y,"L").concat(D,",").concat(C),stroke:d,fill:"none"}),i.a.createElement("circle",{cx:D,cy:C,r:2,fill:d,stroke:"none"}),i.a.createElement("text",{x:D+12*(f>=0?1:-1),y:C,dy:18,textAnchor:E,fill:"#333"},"Total: $".concat(m.toFixed(2))),i.a.createElement("text",{x:D+12*(f>=0?1:-1),y:C,dy:36,textAnchor:E,fill:"#999"},"(".concat((100*u).toFixed(2),"%)")))};function Ne(e){var t=e.data,a=i.a.useState(0),n=Object(N.a)(a,2),l=n[0],c=n[1],o=i.a.useState(t.map((function(e,t){return we[t]}))),s=Object(N.a)(o,2),d=s[0],u=s[1];Object(r.useEffect)((function(){!function(e){var t=e.map((function(e,t){return we[t]}));u(t)}(t)}),[t]);return i.a.createElement("div",null,i.a.createElement(xe.c,{width:e.minWidth,height:500},i.a.createElement(xe.b,{activeIndex:l,activeShape:Se,onMouseEnter:function(e,t){c(t)},onClick:function(t){e.handleClick(t.name)},data:t,dataKey:"value",nameKey:"name",cx:"45%",cy:"50%",outerRadius:150,innerRadius:100},t.map((function(e,t){return i.a.createElement(xe.a,{dataKey:"value",key:"cell-".concat(t),fill:d[t]})})))))}a(470);var Te=function(){return{graphStyle:{height:600},tableStyle:{height:600}}},Oe=function(e){function t(e){var a;return Object(g.a)(this,t),(a=Object(h.a)(this,Object(b.a)(t).call(this,e))).handleDateUpdate=function(e){console.log(a.state.tableData);var t=[new Date(e.value[0]),new Date(e.value[1])],n=ge(a.formattedData,t),r=be(n);a.setState({graphData:[],loading:!0}),a.setState({analysisData:n,graphData:r,tableData:n},(function(){console.log(a.state.tableData),a.setState({loading:!1})}))},a.handleCategoryFilter=function(e){var t=me(a.state.analysisData,e);a.setState({tableData:t.sort(he)})},a.tableStart=60,a.colStyle=Te(),a.sliderInit=[new Date((new Date).getTime()-864e5*a.tableStart),new Date],a.formattedData=ve(a.props.data),a.analysisDataStart=ge(a.formattedData,a.sliderInit),a.graphDataStart=be(a.analysisDataStart),a.state={sliderInit:a.sliderInit,dateRange:se(a.formattedData),analysisData:a.analysisDataStart,graphData:a.graphDataStart,tableHeaders:oe(a.analysisDataStart),tableData:a.analysisDataStart},a}return Object(v.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this.state,t=e.dateRange,a=e.sliderInit,n=e.graphData,r=e.tableData,l=e.tableHeaders,c=this.colStyle.graphStyle,o=this.colStyle.tableStyle;return i.a.createElement("div",{className:"ui stackable two column grid first-row"},i.a.createElement("div",{className:"six wide column column-graph"},i.a.createElement("div",{className:"ui segment",style:c},i.a.createElement(ae,{handleUpdate:this.handleDateUpdate,dateRange:t,buttonText:"Update Analysis",sliderInit:a}),i.a.createElement("h2",{style:{color:"#3f51b5",position:"absolute",width:600,textAlign:"center",paddingTop:"20px"}},"Expenses by Category"),i.a.createElement(Ne,{handleClick:this.handleCategoryFilter,minWidth:650,data:n}))),i.a.createElement("div",{className:"nine wide column column-table"},i.a.createElement("div",{className:"ui segment",style:o},i.a.createElement(Y,{className:"analysis-table",data:r,headers:l}))))}}]),t}(r.Component);var je=Object(o.b)((function(e){return{data:e.data}}))(Oe);function ke(e){return i.a.createElement("div",null,i.a.createElement("h1",null,"HOME (Under Development)"))}function Ae(e){return i.a.createElement("div",null,i.a.createElement("h1",null,"Budget Settings"))}var Fe=Object(k.a)((function(e){return{root:{display:"flex"},appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:275,width:"calc(100% - ".concat(275,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},hide:{display:"none"},drawer:{width:275,flexShrink:0,whiteSpace:"nowrap"},drawerOpen:{width:275,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerClose:Object(O.a)({transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),overflowX:"hidden",width:e.spacing(7)+1},e.breakpoints.up("sm"),{width:e.spacing(9)+1}),toolbar:Object(T.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:e.spacing(0,1)},e.mixins.toolbar),content:{flexGrow:1,padding:e.spacing(3)}}})),Re=function(){return{options:[{text:"Home (Under Development)",icon:"large home icon"},{text:"View Transaction Data",icon:"large database icon"},{text:"Analysis",icon:"large table icon"},{text:"Import Transaction Data",icon:"large upload icon"},{text:"Budget Input Settings",icon:"large cog icon"}]}};function Ie(){var e,t,a=Fe(),n=Re().options,r=Object(A.a)(),l=i.a.useState(!1),c=Object(N.a)(l,2),o=c[0],s=c[1],d=i.a.useState("Home"),u=Object(N.a)(d,2),m=u[0],p=u[1],g=function(e){p(e)};return i.a.createElement("div",{className:a.root},i.a.createElement(U.a,null),i.a.createElement(R.a,{position:"fixed",className:Object(j.a)(a.appBar,Object(O.a)({},a.appBarShift,o))},i.a.createElement(I.a,null,i.a.createElement(M.a,{color:"inherit","aria-label":"open drawer",onClick:function(){s(!0)},edge:"start",className:Object(j.a)(a.menuButton,Object(O.a)({},a.hide,o))},i.a.createElement("i",{className:"bars icon"})),i.a.createElement(B.a,{variant:"h6",noWrap:!0},"MY BUDGET MANAGER"))),i.a.createElement(F.a,{variant:"permanent",className:Object(j.a)(a.drawer,(e={},Object(O.a)(e,a.drawerOpen,o),Object(O.a)(e,a.drawerClose,!o),e)),classes:{paper:Object(j.a)((t={},Object(O.a)(t,a.drawerOpen,o),Object(O.a)(t,a.drawerClose,!o),t))}},i.a.createElement("div",{className:a.toolbar},i.a.createElement(M.a,{onClick:function(){s(!1)}},"rtl"===r.direction?i.a.createElement("i",{className:"chevron right icon"}):i.a.createElement("i",{className:"chevron left icon"}))),i.a.createElement(P.a,null,n.map((function(e,t){return i.a.createElement(H.a,{button:!0,onClick:function(){return g(e.text)},value:e.text,key:e.text},i.a.createElement(L.a,null,i.a.createElement("i",{className:e.icon,style:{marginLeft:"10px"}})),i.a.createElement(W.a,{primary:e.text}))})))),i.a.createElement("main",{className:a.content},i.a.createElement("div",{className:a.toolbar}),function(){switch(m){case"View Transaction Data":return i.a.createElement(De,{handleRedirect:g});case"Analysis":return i.a.createElement(je,null);case"Import Transaction Data":return i.a.createElement(Ee,{handleRedirect:g});case"Budget Input Settings":return i.a.createElement(Ae,null);default:return i.a.createElement(ke,null)}}()))}var Pe=function(e){function t(){var e,a;Object(g.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(h.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).getData=function(){return p.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.a.awrap(a.props.fetchData());case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log("Unable to retrieve data --\x3e"+e.t0);case 8:case 9:case"end":return e.stop()}}),null,null,[[0,5]])},a}return Object(v.a)(t,e),Object(f.a)(t,[{key:"componentDidMount",value:function(){this.getData()}},{key:"render",value:function(){return i.a.createElement("div",{className:"main-div"},i.a.createElement(Ie,null))}}]),t}(r.Component),Ue=Object(o.b)(null,{fetchData:S})(Pe),Be=Object(s.c)({data:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"fetch-data":return t.payload;default:return e}}}),Me=Object(s.d)(Be,{},Object(s.a)(d.a));c.a.render(i.a.createElement(u.a,null,i.a.createElement(o.a,{store:Me},i.a.createElement(Ue,null))),document.getElementById("root"))}},[[261,1,2]]]);
//# sourceMappingURL=main.28b973c7.chunk.js.map